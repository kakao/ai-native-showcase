---
---

<!DOCTYPE html>

<html lang="{{ site.lang | default: 'en-US' }}">
{% include head.html %}
<body>
  <a class="skip-to-main" href="#main-content">Skip to main content</a>
  {% include icons/icons.html %}
  {% if page.nav_enabled == true %}
    {% include components/sidebar.html %}
  {% elsif layout.nav_enabled == true and page.nav_enabled == nil %}
    {% include components/sidebar.html %}
  {% elsif site.nav_enabled != false and layout.nav_enabled == nil and page.nav_enabled == nil %}
    {% include components/sidebar.html %}
  {% endif %}
  <div class="main" id="top">
    {% include components/header.html %}

    <!-- Language switcher and GitHub icon overlay -->
    <div class="top-right-overlay">
      <!-- Language Switcher -->
      <div class="language-switcher" id="languageSwitcher">
        <button class="lang-button active" data-lang="ko" title="한국어">🇰🇷</button>
        <button class="lang-button" data-lang="en" title="English">🇬🇧</button>
      </div>

      <!-- GitHub Link -->
      <a href="https://github.com/kakao/ai-native-showcase" target="_blank" class="github-link" title="View on GitHub">
        <svg width="20" height="20" viewBox="0 0 16 16" style="fill: currentColor;">
          <path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"/>
        </svg>
      </a>
    </div>
    <div class="main-content-wrap">
      {% include components/breadcrumbs.html %}
      <div id="main-content" class="main-content">
        <main>
          {% unless page.toc == false %}
          <div class="toc-container">
            <details>
              <summary class="toc-title">{% if page.lang == 'ko' %}목차{% else %}TOC{% endif %}</summary>
              <div class="toc-content" id="toc-list">
                <!-- TOC will be generated by JavaScript -->
                <p>{% if page.lang == 'ko' %}목차를 생성하는 중...{% else %}Generating TOC...{% endif %}</p>
              </div>
            </details>
          </div>
          {% endunless %}


          {% if site.heading_anchors != false %}
            {% include vendor/anchor_headings.html html=content beforeHeading="true" anchorBody="<svg viewBox=\"0 0 16 16\" aria-hidden=\"true\"><use xlink:href=\"#svg-link\"></use></svg>" anchorClass="anchor-heading" anchorAttrs="aria-labelledby=\"%html_id%\"" %}
          {% else %}
            {{ content }}
          {% endif %}

          {% if page.has_toc != false %}
            {% include components/children_nav.html %}
          {% endif %}
        </main>
        {% include components/footer.html %}
      </div>
    </div>
    {% if site.search_enabled != false %}
      {% include components/search_footer.html %}
    {% endif %}
  </div>

  {% if site.mermaid %}
    {% include components/mermaid.html %}
  {% endif %}

  <script>
  // TOC generator with multiple execution strategies
  var tocGenerated = false;
  function generateTOC() {
    if (tocGenerated) return;

    var tocContainer = document.getElementById('toc-list');
    if (!tocContainer) return;

    // Try multiple selectors to find headings
    var selectors = [
      '.main-content h1, .main-content h2, .main-content h3, .main-content h4, .main-content h5, .main-content h6',
      'main h1, main h2, main h3, main h4, main h5, main h6',
      '#main-content h1, #main-content h2, #main-content h3, #main-content h4, #main-content h5, #main-content h6',
      'h1, h2, h3, h4, h5, h6'
    ];

    var headings = null;
    for (var s = 0; s < selectors.length; s++) {
      headings = document.querySelectorAll(selectors[s]);
      if (headings.length > 0) break;
    }

    if (!headings || headings.length === 0) {
      var noHeadingsMsg = '{{ page.lang }}' === 'ko' ? '이 페이지에 헤딩이 없습니다.' : 'No headings found on this page.';
      tocContainer.innerHTML = '<p>' + noHeadingsMsg + '</p>';
      return;
    }

    // Create TOC list
    var tocList = document.createElement('ul');

    for (var i = 0; i < headings.length; i++) {
      var heading = headings[i];

      // Create ID if doesn't exist
      if (!heading.id) {
        heading.id = 'heading-' + i;
      }

      // Create list item
      var listItem = document.createElement('li');
      var link = document.createElement('a');

      link.href = '#' + heading.id;
      link.textContent = heading.textContent;

      // Indent based on heading level (CSS class approach)
      var level = parseInt(heading.tagName.charAt(1));
      listItem.setAttribute('data-level', level);
      listItem.style.marginLeft = ((level - 1) * 15) + 'px';

      listItem.appendChild(link);
      tocList.appendChild(listItem);
    }

    // Replace loading message with TOC
    tocContainer.innerHTML = '';
    tocContainer.appendChild(tocList);
    tocGenerated = true;
  }

  // Multiple execution strategies to ensure TOC generation
  document.addEventListener('DOMContentLoaded', generateTOC);
  if (document.readyState !== 'loading') generateTOC();
  setTimeout(generateTOC, 500);

  // Image caption generator
  function generateImageCaptions() {
    var images = document.querySelectorAll('.main-content img[alt]:not([alt=""])');

    for (var i = 0; i < images.length; i++) {
      var img = images[i];
      var altText = img.getAttribute('alt');

      if (altText && altText.trim() !== '') {
        // Create container if image is not already wrapped
        if (img.parentNode.className !== 'image-container') {
          var container = document.createElement('div');
          container.className = 'image-container';

          img.parentNode.insertBefore(container, img);
          container.appendChild(img);
        }

        // Create caption element
        var caption = document.createElement('div');
        caption.className = 'image-caption';
        caption.textContent = altText;

        // Add caption after image if it doesn't exist
        if (!img.nextElementSibling || img.nextElementSibling.className !== 'image-caption') {
          img.parentNode.appendChild(caption);
        }
      }
    }
  }

  // Execute image caption generation
  document.addEventListener('DOMContentLoaded', generateImageCaptions);
  if (document.readyState !== 'loading') generateImageCaptions();
  setTimeout(generateImageCaptions, 500);

  // Author info insertion
  function insertAuthorInfo() {
    // Check if author info exists in page data
    var pageAuthor = '{{ page.author | default: "" }}';
    var pageAuthorEmail = '{{ page.author_email | default: "" }}';
    var pageLang = '{{ page.lang | default: "en" }}';

    if (pageAuthor) {
      var firstH1 = document.querySelector('.main-content h1, main h1, #main-content h1');
      if (firstH1 && !document.querySelector('.author-info')) {
        var authorDiv = document.createElement('div');
        authorDiv.className = 'author-info';
        authorDiv.style.cssText = 'margin: 1rem 0 2rem 0; text-align: right; font-style: italic; color: #6a737d; font-size: 0.9rem; border-bottom: 1px solid #e1e4e8; padding-bottom: 0.5rem;';

        var authorLabel = pageLang === 'ko' ? '저자: ' : 'Author: ';
        var authorContent = authorLabel + pageAuthor;
        if (pageAuthorEmail) {
          authorContent += ' (<a href="mailto:' + pageAuthorEmail + '" style="color: #586069; text-decoration: none;">' + pageAuthorEmail + '</a>)';
        }

        authorDiv.innerHTML = authorContent;

        // Insert after h1
        if (firstH1.nextSibling) {
          firstH1.parentNode.insertBefore(authorDiv, firstH1.nextSibling);
        } else {
          firstH1.parentNode.appendChild(authorDiv);
        }
      }
    }
  }

  // Execute author info insertion
  document.addEventListener('DOMContentLoaded', insertAuthorInfo);
  if (document.readyState !== 'loading') insertAuthorInfo();
  setTimeout(insertAuthorInfo, 500);

  // Language switcher logic
  function initLanguageSwitcher() {
    var currentPath = window.location.pathname;
    var baseUrl = '{{ site.baseurl }}';
    var currentLang = 'ko'; // default

    // Detect current language from URL
    if (currentPath.indexOf('/en/') !== -1) {
      currentLang = 'en';
    } else if (currentPath.indexOf('/ko/') !== -1) {
      currentLang = 'ko';
    }

    // Update active button
    var buttons = document.querySelectorAll('.lang-button');
    buttons.forEach(function(btn) {
      if (btn.getAttribute('data-lang') === currentLang) {
        btn.classList.add('active');
      } else {
        btn.classList.remove('active');
      }
    });

    // Add click handlers
    buttons.forEach(function(btn) {
      btn.addEventListener('click', function() {
        var targetLang = this.getAttribute('data-lang');

        // Don't do anything if clicking current language
        if (targetLang === currentLang) return;

        // Save preference
        localStorage.setItem('preferredLanguage', targetLang);

        // Build target URL
        var newPath = currentPath;
        if (currentLang === 'ko') {
          newPath = newPath.replace('/ko/', '/' + targetLang + '/');
        } else if (currentLang === 'en') {
          newPath = newPath.replace('/en/', '/' + targetLang + '/');
        } else {
          // If on root or other page, go to index of target language
          newPath = baseUrl + '/' + targetLang + '/';
        }

        // Navigate to new language version
        window.location.href = newPath;
      });
    });
  }

  // Execute language switcher initialization
  document.addEventListener('DOMContentLoaded', initLanguageSwitcher);
  if (document.readyState !== 'loading') initLanguageSwitcher();
  setTimeout(initLanguageSwitcher, 100);
  </script>

  <style>
  .top-right-overlay {
    position: fixed;
    top: 15px;
    right: 20px;
    z-index: 1000;
    display: flex;
    align-items: center;
    gap: 10px;
  }

  .language-switcher {
    display: flex;
    align-items: center;
    gap: 5px;
    background-color: rgba(255, 255, 255, 0.9);
    border-radius: 20px;
    padding: 4px;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
  }

  .lang-button {
    width: 32px;
    height: 32px;
    border: none;
    background-color: transparent;
    cursor: pointer;
    font-size: 18px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.2s ease;
    padding: 0;
  }

  .lang-button:hover {
    background-color: rgba(0, 0, 0, 0.05);
    transform: scale(1.1);
  }

  .lang-button.active {
    background-color: rgba(3, 102, 214, 0.1);
    box-shadow: 0 0 0 2px rgba(3, 102, 214, 0.3);
  }

  .github-link {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 40px;
    height: 40px;
    background-color: rgba(255, 255, 255, 0.9);
    border-radius: 50%;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
    color: #586069;
    text-decoration: none;
    transition: all 0.2s ease;
  }

  .github-link:hover {
    color: #0366d6;
    background-color: white;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
    transform: translateY(-1px);
  }

  /* Responsive adjustments */
  @media (max-width: 66.5rem) {
    .top-right-overlay {
      top: 10px;
      right: 15px;
      gap: 8px;
    }

    .language-switcher {
      padding: 3px;
      gap: 4px;
    }

    .lang-button {
      width: 28px;
      height: 28px;
      font-size: 16px;
    }

    .github-link {
      width: 36px;
      height: 36px;
    }

    .github-link svg {
      width: 18px;
      height: 18px;
    }
  }
  </style>
</body>
</html>